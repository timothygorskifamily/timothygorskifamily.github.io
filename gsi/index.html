<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GSI Credit & Option Strategy Explorer</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<script src="gsi-calculator.js"></script>
<style>
/* Chosen Palette: Warm Institutional Financial */
    body {
        font-family: 'Inter', sans-serif;
        background-color: #F9FAFB;
        color: #1F2937;
    }
    .chart-container {
        position: relative;
        width: 100%;
        max-width: 800px; 
        margin-left: auto;
        margin-right: auto;
        height: 350px; 
        max-height: 400px;
    }
    @media (max-width: 640px) {
        .chart-container { height: 250px; }
    }
    .glass-panel {
        background: rgba(255, 255, 255, 0.9);
        border: 1px solid rgba(229, 231, 235, 1);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        border-radius: 0.75rem;
    }
    .interactive-card {
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        cursor: pointer;
    }
    .interactive-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        border-color: #1E40AF;
    }
    .range-slider {
        -webkit-appearance: none;
        width: 100%;
        height: 8px;
        border-radius: 5px;
        background: #E5E7EB;
        outline: none;
    }
    .range-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #1E40AF;
        cursor: pointer;
        transition: background .15s ease-in-out;
    }
    .range-slider::-webkit-slider-thumb:hover { background: #1E3A8A; }
</style>
</head>
<body class="text-gray-800">

<nav class="sticky top-0 z-50 bg-white border-b border-gray-200 shadow-sm">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
            <div class="flex items-center">
                <span class="text-2xl font-bold text-blue-900 tracking-tight">GSI<span class="text-amber-600">.</span>Explorer</span>
            </div>
            <div class="hidden md:flex space-x-8 items-center">
                <a href="#how-it-works" class="text-gray-600 hover:text-blue-800 font-medium transition">How It Works</a>
                <a href="https://gorskifamilyoffice.com/gsi/historical.html" class="text-gray-600 hover:text-blue-800 font-medium transition">Historical</a>
                <a href="https://gorskifamilyoffice.com/gsi/psa.html" class="text-gray-600 hover:text-blue-800 font-medium transition">Projections</a>
                <button onclick="scrollToSection('simulator')" class="bg-blue-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-blue-900 transition shadow-sm">
                    Simulate Returns
                </button>
            </div>
        </div>
    </div>
</nav>

<section class="relative bg-white overflow-hidden">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24">
        <div class="text-center max-w-3xl mx-auto">
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-6 leading-tight">
                Credit Yield + <br> <span class="text-blue-800">Levered Equity Upside</span>
            </h1>
            <p class="text-xl text-gray-600 mb-10 leading-relaxed">
                Discover how the <strong>GSI Strategy</strong> combines the reliability of credit with the explosive potential of 10-Year OTC Call Options to simulate a levered index return—outperforming traditional portfolios.
            </p>
            <div class="flex flex-col sm:flex-row justify-center gap-4">
                <button onclick="scrollToSection('how-it-works')" class="px-8 py-3 bg-white text-blue-800 border-2 border-blue-800 rounded-lg font-bold hover:bg-blue-50 transition">
                    Explain the Strategy
                </button>
                <button onclick="scrollToSection('simulator')" class="px-8 py-3 bg-amber-600 text-white rounded-lg font-bold hover:bg-amber-700 transition shadow-lg">
                    Run Simulation &darr;
                </button>
            </div>
        </div>
    </div>
</section>

<section id="how-it-works" class="py-16 bg-gray-50 border-t border-gray-200">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-900">The Structural Engine</h2>
            <p class="mt-4 text-lg text-gray-600 max-w-2xl mx-auto">
                Traditional portfolios force you to choose between safety (bonds) and growth (stocks). We utilize a structural arbitrage approach to achieve both simultaneously.
            </p>
        </div>

        <div class="relative">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 relative z-10">
                <div class="glass-panel p-8 interactive-card relative group" onclick="highlightStep(1)">
                    <div class="absolute -top-4 left-8 bg-gray-800 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold shadow-md">1</div>
                    <div class="text-amber-600 text-4xl mb-4 font-bold">&#9878;</div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">The Foundation: Credit/Bonds</h3>
                    <p class="text-gray-600 text-sm">
                        Capital is deployed into diversified Credit/Bond strategies. This generates a safe, stable base yield (est. 9-11%).
                    </p>
                </div>

                <div class="glass-panel p-8 interactive-card relative group" onclick="highlightStep(2)">
                    <div class="absolute -top-4 left-8 bg-gray-800 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold shadow-md">2</div>
                    <div class="text-blue-800 text-4xl mb-4 font-bold">&#8669;</div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">The Catalyst: Option Funding</h3>
                    <p class="text-gray-600 text-sm">
                        Instead of paying out the yield (9-11%), we use it to purchase <strong>10-Year OTC Call Options</strong> on a core index (SPX or MSCI).
                    </p>
                </div>

                <div class="glass-panel p-8 interactive-card relative group" onclick="highlightStep(3)">
                    <div class="absolute -top-4 left-8 bg-gray-800 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold shadow-md">3</div>
                    <div class="text-green-600 text-4xl mb-4 font-bold">&#128200;</div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">The Result: Levered Returns</h3>
                    <p class="text-gray-600 text-sm">
                        The options provide amplified exposure to index upside. If the market rises, you get Multiplier x Return. If it falls, the principal is defended by the credit base.
                    </p>
                </div>
            </div>
        </div>
        
        <div id="step-detail-box" class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6 text-center hidden transition-all duration-300">
            <p id="step-detail-text" class="text-blue-900 font-medium"></p>
        </div>
    </div>
</section>

<section id="simulator" class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-12">
            
            <div class="lg:col-span-4 space-y-8">
                <div>
                    <h2 class="text-3xl font-bold text-gray-900 mb-2">Long-Term Return Simulator</h2>
                    <p class="text-gray-600">
                        Adjust the <strong>annual</strong> market conditions to see how the GSI Strategy's structure compounds over a <strong>10-Year Horizon (Net of Fees)</strong>.
                    </p>
                </div>

                <div class="glass-panel p-6 bg-gray-50">
                    <div class="mb-6">
                        <label for="underlying-select" class="block text-sm font-bold text-gray-700 mb-2">Underlying Index</label>
                        <select id="underlying-select" class="w-full p-2 border border-gray-300 rounded-md font-medium text-gray-800 bg-white">
                            <option value="SPX" selected>S&P 500 (SPX)</option>
                            <option value="MSCI">MSCI World</option>
                        </select>
                    </div>

                    <label id="idx-slider-label" for="spx-return" class="block text-sm font-bold text-gray-700 mb-2">
                        Hypothetical Annual S&P 500 Price Return
                    </label>
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-red-600 font-semibold">-50%</span>
                        <span id="spx-return-display" class="text-2xl font-bold text-blue-800">8%</span>
                        <span class="text-green-600 font-semibold">+50%</span>
                    </div>
                    <input type="range" id="spx-return" min="-50" max="50" value="8" step="1" class="range-slider mb-6">
                    
                    <div class="space-y-4">
                        <div class="flex justify-between items-center text-sm border-b border-gray-200 pb-2">
                            <span id="idx-div-label" class="text-gray-600">S&P 500 Dividend Yield</span>
                            <span id="idx-div-display" class="font-mono font-bold text-gray-900">1.1%</span>
                        </div>
                        <div class="flex justify-between items-center text-sm border-b border-gray-200 pb-2">
                            <span class="text-gray-600">Credit Yield</span>
                            <span class="font-mono font-bold text-gray-900">9.5%</span>
                        </div>
                        
                        <div class="bg-gray-100 p-3 rounded text-xs space-y-1">
                            <div class="font-bold text-gray-700 mb-1">Fee Structure Applied (Net):</div>
                            <div class="flex justify-between">
                                <span class="text-gray-500">GSI Mgmt Fee</span>
                                <span>0.50%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-500">GSI Performance Fee (Carry)</span>
                                <span>20.0%</span>
                            </div>
                            <div class="flex justify-between border-t border-gray-200 pt-1 mt-1">
                                <span class="text-gray-500">Benchmark ETF Fee</span>
                                <span>0.03%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-8">
                <div class="flex flex-col h-full">
                    <div class="mb-4 flex flex-wrap gap-4 justify-between items-end">
                        <h3 class="text-lg font-semibold text-gray-800">Projected 10-Year Net Return (Cumulative)</h3>
                        <div class="flex flex-wrap gap-2 text-xs sm:text-sm">
                            <div class="flex items-center"><span class="w-3 h-3 rounded-full bg-gray-400 mr-1"></span> <span id="legend-idx">S&P 500</span> ETF</div>
                            <div class="flex items-center"><span class="w-3 h-3 rounded-full bg-purple-600 mr-1"></span> Private Equity (Net)</div>
                            <div class="flex items-center"><span class="w-3 h-3 rounded-full bg-emerald-600 mr-1"></span> Bonds</div>
                            <div class="flex items-center"><span class="w-3 h-3 rounded-full bg-blue-800 mr-1"></span> GSI (Net)</div>
                        </div>
                    </div>
                    
                    <div class="chart-container bg-white border border-gray-100 rounded-lg shadow-inner p-4">
                        <canvas id="simulationChart"></canvas>
                    </div>

                    <div class="grid grid-cols-2 gap-4 mt-6">
                        <div class="bg-blue-50 p-4 rounded-lg border border-blue-100 text-center">
                            <div class="text-xs font-semibold text-blue-800 uppercase tracking-wide mb-2">GSI Strategy (Net)</div>
                            <div class="grid grid-cols-2 gap-2">
                                <div>
                                    <div id="gsi-irr-display" class="text-2xl font-bold text-blue-900">--%</div>
                                    <div class="text-[10px] text-blue-600">Net IRR</div>
                                </div>
                                <div>
                                    <div id="gsi-moic-display" class="text-2xl font-bold text-blue-900">--x</div>
                                    <div class="text-[10px] text-blue-600">Multiple</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 text-center">
                            <div id="idx-metric-label" class="text-xs font-semibold text-gray-600 uppercase tracking-wide mb-2">S&P 500 ETF</div>
                            <div class="grid grid-cols-2 gap-2">
                                <div>
                                    <div id="spx-irr-display" class="text-2xl font-bold text-gray-800">--%</div>
                                    <div class="text-[10px] text-gray-500">Net IRR</div>
                                </div>
                                <div>
                                    <div id="spx-moic-display" class="text-2xl font-bold text-gray-800">--x</div>
                                    <div class="text-[10px] text-gray-500">Multiple</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="simulation-commentary" class="mt-4 p-4 rounded-lg bg-gray-50 border-l-4 border-blue-800 text-sm">
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

<section id="performance" class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="bg-white rounded-2xl shadow-xl p-8 md:p-12 text-center border border-gray-200">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">Historical Strategy Analysis</h2>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto mb-8">
                Explore the detailed historical backtest (1974–2024), showing how the structural arbitrage model would have performed across five decades of market cycles.
            </p>
            <a href="https://gorskifamilyoffice.com/gsi/historical.html" class="inline-flex items-center justify-center px-8 py-3 bg-blue-800 text-white font-bold rounded-lg hover:bg-blue-900 transition shadow-lg transform hover:-translate-y-0.5">
                View Historical Data &rarr;
            </a>
        </div>
    </div>
</section>

<script>
    function scrollToSection(id) {
        const element = document.getElementById(id);
        if (element) { element.scrollIntoView({ behavior: 'smooth' }); }
    }

    function highlightStep(stepNum) {
        const detailBox = document.getElementById('step-detail-box');
        const detailText = document.getElementById('step-detail-text');
        let message = "";
        switch(stepNum) {
            case 1: message = "Step 1: We seek safe, stable yields (estimated tax equivalent 9-11%) from credit/bonds. This acts as the engine room."; break;
            case 2: message = "Step 2: That 9-11% yield isn't just pocketed. It buys 10-year Call Options for cheap leverage."; break;
            case 3: message = "Step 3: The Synergy. If stocks stay flat, the credit/bond yield covers the premium. If stocks boom, the options multiply the gain."; break;
        }
        detailText.textContent = message;
        detailBox.classList.remove('hidden');
        detailBox.classList.add('block');
    }

    // --- Simulator Wiring ---
    const ctxSim = document.getElementById('simulationChart').getContext('2d');
    const spxSlider = document.getElementById('spx-return');
    const underlyingSelect = document.getElementById('underlying-select');
    const spxDisplay = document.getElementById('spx-return-display');
    const commentaryBox = document.getElementById('simulation-commentary');
    
    // Metrics
    const irrDisplay = document.getElementById('gsi-irr-display');
    const moicDisplay = document.getElementById('gsi-moic-display');
    const spxIrrDisplay = document.getElementById('spx-irr-display');
    const spxMoicDisplay = document.getElementById('spx-moic-display');

    // Chart Initialization
    const simChart = new Chart(ctxSim, {
        type: 'line',
        data: {
            labels: [], 
            datasets: [
                { label: 'Index ETF', borderColor: '#9CA3AF', borderWidth: 2, borderDash: [5, 5], pointRadius: 0, data: [] },
                { label: 'Private Equity (Net)', borderColor: '#9333EA', borderWidth: 1, pointRadius: 0, data: [] },
                { label: 'Agg Bonds', borderColor: '#059669', borderWidth: 1, pointRadius: 0, data: [] },
                { label: 'GSI (Net)', borderColor: '#1E40AF', borderWidth: 3, pointRadius: 0, data: [] }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            interaction: { mode: 'index', intersect: false },
            plugins: {
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            let val = context.raw;
                            let growth = ((val / 100) - 1) * 100; 
                            return context.dataset.label + ': ' + growth.toFixed(1) + '%';
                        }
                    }
                },
                legend: { display: false }
            },
            scales: {
                y: { display: true, title: { display: true, text: 'Portfolio Value ($100 Base)' } },
                x: { display: true, ticks: { maxTicksLimit: 10 } } 
            }
        }
    });

    function updateSimulation() {
        const underlying = underlyingSelect.value;
        const idxName = underlying === 'SPX' ? 'S&P 500' : 'MSCI World';
        const divYield = underlying === 'SPX' ? 1.1 : 1.8; // MSCI generally carries a slightly higher dividend yield.

        // Update UI Labels dynamically based on underlying selection
        document.getElementById('idx-slider-label').textContent = `Hypothetical Annual ${idxName} Price Return`;
        document.getElementById('idx-div-label').textContent = `${idxName} Dividend Yield`;
        document.getElementById('idx-div-display').textContent = `${divYield}%`;
        document.getElementById('idx-metric-label').textContent = `${idxName} ETF`;
        document.getElementById('legend-idx').textContent = idxName;
        simChart.data.datasets[0].label = `${idxName} ETF`;

        const spxPriceReturn = parseFloat(spxSlider.value);
        spxDisplay.textContent = (spxPriceReturn > 0 ? "+" : "") + spxPriceReturn + "%";

        const inputs = {
            investment: 100,
            currentSpot: 580, 
            spxPriceReturn: spxPriceReturn, 
            spxDivYield: divYield, 
            creditYield: 9.5,
            volatility: underlying === 'SPX' ? 22.0 : 19.5, // Slight vol tweak for MSCI
            mgmtFee: 0.5,
            carryFee: 20.0,
            riskFreeRate: 4.0,
            years: 10
        };

        const data = calculateGSIProjection(inputs);

        // Update Chart
        simChart.data.labels = data.series.labels;
        simChart.data.datasets[0].data = data.series.spx;
        simChart.data.datasets[1].data = data.series.pe;
        simChart.data.datasets[2].data = data.series.bonds;
        simChart.data.datasets[3].data = data.series.gsi;
        simChart.update();

        // Update Metrics
        irrDisplay.textContent = data.metrics.irr.toFixed(1) + "%";
        moicDisplay.textContent = data.metrics.moic.toFixed(2) + "x";
        spxIrrDisplay.textContent = data.metrics.spxIrr.toFixed(1) + "%";
        spxMoicDisplay.textContent = data.metrics.spxMoic.toFixed(2) + "x";

        // Update Commentary
        const netTR = (spxPriceReturn + divYield - 0.03).toFixed(1);
        let comment = "";
        
        if (spxPriceReturn >= 8) {
            comment = `With ${idxName} generating a <strong>${netTR}% Total Return</strong> (Price ${spxPriceReturn}% + ${divYield}% Divs), the GSI Strategy's options capture the upside. The Credit Yield covers the premium, resulting in a <strong>${data.metrics.irr.toFixed(1)}% Net IRR</strong>.`;
        } else if (spxPriceReturn > 0) {
            comment = `In a moderate market (${netTR}% TR), the leverage is efficient. GSI outperforms Bonds and Equities with a <strong>${data.metrics.moic.toFixed(2)}x</strong> multiple.`;
        } else {
            comment = `In a downturn, the Credit Floor activates. While the ${idxName} drops to a ${netTR}% return, GSI protects capital, delivering a positive <strong>${data.metrics.irr.toFixed(1)}% IRR</strong> driven by the 9.5% credit yield.`;
        }
        commentaryBox.innerHTML = `<p>${comment}</p>`;
    }

    spxSlider.addEventListener('input', updateSimulation);
    underlyingSelect.addEventListener('change', updateSimulation);
    
    setTimeout(updateSimulation, 100);
</script>
</body>
</html>
